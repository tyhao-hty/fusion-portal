# 核聚变门户网站项目简介

## 🎯 项目目标
本项目旨在构建一个面向公众与科研工作者的「核聚变门户网站」，整合核聚变科学、工程、产业化及政策等多领域信息，为学习者、工程师与研究者提供系统化、可交互的知识平台。

最终目标是实现一个融合 **内容展示、知识管理、用户交互与AI辅助功能** 的综合门户，让更多人了解、学习并参与核聚变事业。

---

## 🧩 当前架构
- 前端：`frontend/` 基于 Next.js 14（App Router）+ TypeScript + Tailwind CSS，后台页面位于 `app/(dashboard)/`；面向公众的根级路由为 `/`、`/history`、`/links`、`/papers`（代码在 `app/(site)`，复用 `SiteFrame` + `styles-legacy.css`），rewrites 将 `/index.html` 等旧入口指向新路由。
- 后端：`backend/` 基于 Express + Prisma + PostgreSQL，提供认证、文章 CRUD，分页时间线接口 `/api/timeline`，以及友情链接 `/api/links`、论文目录 `/api/papers`；`npm run seed:timeline`、`npm run seed:links`、`npm run seed:papers` 分别导入 `frontend/public/data/*.json`。
- 状态管理：React Context（`UserContext`）维护登录态，令牌存储于浏览器 `localStorage`；middleware 仅保护 `/dashboard/:path*`。
- 旧版站点：静态文件保留在 `frontend/public/`（对外部署）与 `frontend/_legacy-static/`（完整备份），未迁移的专题页仍以 `.html` 暂存，可作为回退方案。
- 运行方式：分别执行 `cd backend && npm run dev`（默认端口 4000）与 `cd frontend && npm run dev`（默认端口 3000，需将 `NEXT_PUBLIC_API_URL` 指向后端）。

---

## 📘 已实现功能
- ✅ 后端完成邮箱 + 密码注册/登录，JWT 鉴权，以及文章增删查改接口
- ✅ `/api/timeline` 提供分页、排序、关键字筛选能力，统一错误响应结构
- ✅ 前端实现登录、注册、文章列表、发布与删除，并通过 `apiRequest` 与后端通信
- ✅ 根级首页 `/` 与 `/history` 复刻旧版体验，保留动画与响应式行为，支持 SWR 无限滚动加载时间线
- ✅ `/links` 与 `/papers` 接入后端 API，提供结构化友情链接与论文目录浏览体验
- ✅ Tailwind + 全局样式骨架为页面提供统一排版与响应式布局；旧版样式通过 `styles-legacy.css` 渐进迁移

---

## 🚀 待开发功能（功能路线图）

| 模块类别 | 功能描述 | 优先级 |
|-----------|-----------|--------|
| **后台管理** | 丰富文章管理（编辑、草稿/发布状态、分类标签、多角色权限） | 🔥 高 |
| **用户系统** | 补充角色控制、密码找回、资料维护、多因素登录 | 🔥 高 |
| **文章模块** | 引入 Markdown 编辑、预览、搜索与分页，优化内容展示性能 | 🧩 中 |
| **评论与互动** | 支持评论、点赞、收藏与举报，并提供审核流程 | 🧩 中 |
| **AI 辅助** | 集成文章自动摘要、聚变问答助手、智能推荐 | 🌌 低 |
| **内容推荐** | 基于标签与阅读记录生成推荐列表与热度榜 | 🌌 低 |
| **数据分析** | 构建访问统计与运营仪表盘，支持导出报告 | 🌌 低 |

---

## 🧠 项目长期目标
1. 形成一个稳定的内容生态，支持多用户协作与投稿；
2. 引入 AI 自动生成模块（知识问答、摘要生成、聚变研究新闻摘要）；
3. 为未来的“智能核聚变研究门户”打下基础，结合科学计算、仿真展示等功能。

---

## 📂 开发协作说明
所有与 AI 交互相关的说明、任务清单、设计文档，请统一放在 `docs_for_llm` 文件夹中。
AI 在执行开发任务时应：
1. 优先读取此文件夹内容；
2. 自动更新 `2_dev_notes/dev_notes.md`（旧路径 `dev_notes.md` 已归档，请勿写入）；
3. 在执行新功能开发前检查 `3_tasks/README.md` 及相关任务文档（`tasks/` 为兼容旧链接的存档路径）；
4. 不修改业务代码以外的结构性文件，除非得到明确授权。
